{
  "$schema": "https://railway.app/railway.schema.json",
  "build": {
    "builder": "NIXPACKS"
  },
  "services": [
    {
      "name": "marina-psychology-backend",
      "source": {
        "repo": "https://github.com/YOUR_USERNAME/Psychology",
        "rootDirectory": "backend"
      },
      "variables": {
        "NODE_ENV": "production",
        "PORT": "${{ PORT }}",
        "MONGODB_URI": "${{ MONGODB_URI }}",
        "SESSION_SECRET": "${{ SESSION_SECRET }}",
        "JWT_SECRET": "${{ JWT_SECRET }}",
        "FRONTEND_URL": "https://marina-psychology-main-site-production.up.railway.app",
        "ADMIN_URL": "https://marina-psychology-admin-panel-production.up.railway.app",
        "GOOGLE_CLIENT_ID": "${{ GOOGLE_CLIENT_ID }}",
        "GOOGLE_CLIENT_SECRET": "${{ GOOGLE_CLIENT_SECRET }}",
        "EMAIL_USER": "${{ EMAIL_USER }}",
        "EMAIL_PASS": "${{ EMAIL_PASS }}"
      },
      "healthcheckPath": "/",
      "watchPaths": ["backend/**"]
    },
    {
      "name": "marina-psychology-main-site",
      "source": {
        "repo": "https://github.com/YOUR_USERNAME/Psychology",
        "rootDirectory": "frontend/main-site"
      },
      "variables": {
        "NODE_ENV": "production",
        "PORT": "${{ PORT }}",
        "API_URL": "https://marina-psychology-backend-production.up.railway.app"
      },
      "healthcheckPath": "/",
      "watchPaths": ["frontend/main-site/**"]
    },
    {
      "name": "marina-psychology-admin-panel",
      "source": {
        "repo": "https://github.com/YOUR_USERNAME/Psychology",
        "rootDirectory": "frontend/admin-panel"
      },
      "variables": {
        "NODE_ENV": "production",
        "PORT": "${{ PORT }}",
        "API_URL": "https://marina-psychology-backend-production.up.railway.app"
      },
      "healthcheckPath": "/",
      "watchPaths": ["frontend/admin-panel/**"]
    }
  ],
  "databases": [
    {
      "name": "marina-psychology-mongodb",
      "plugin": "mongodb"
    }
  ]
} 